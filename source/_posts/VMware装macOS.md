---
title: VMware装macOS
date: 2018-04-04 23:42:04
tags: mac,macos,vmware,黑苹果
categories:
  - 程序猿
---

## 前期准备
* 一台电脑（运存最好是8G，4G的只能给虚拟机分2G运存，很卡）
* VMware14
* VMware12的mac补丁——unlocker
* MacOS10.12系统镜像
<!--more-->

## 开始动手
### 安装unlocker补丁
下载unlocker的压缩包，解压后，右键点击“win-install”，选择“以管理员权限运行”，运行完成后，对话框会自动关闭（如果对话框闪退的话，那请移步cmd，进入该文件夹运行）

### 打开虚拟机，开始安装
步骤同一般步骤类似：
1. 选择“自定义”
2. 选择“安装程序光盘映像文件”，找到下载好的macOS系统镜像
3. 选择“Apple Mac OS X(M)”（该选项只有正确安装补丁后才会出现）
4. 选择虚拟机保存地址（最好空出40G的空间）
5. 固件类型默认“UEFI”
6. 配置硬件：CPU、内存、硬盘，酌情处理（内存至少2G，建议4G，其他，自己选择）
7. 配置完成，暂不开机，如果此时开机会报错，报错了直接关掉，进入下一步操作
8. 找到虚拟机文件夹，使用记事本打开vmx格式的配置文件
	* 在smc.present="true"这一行的后面，加上smc.version="0"
9. 保存好配置文件，返回虚拟机，启动系统
10. 选择语言“以简体中文为主要语言”
11. 这一步你会看到macOS字样，此时，不要点击“继续”，选择上方菜单栏的“实用工具”->“磁盘工具”，选中VMware的那块磁盘，选择“抹除”（名称随意，格式、方案固定不变，单击“抹除”）
12. 点击“继续”，选择刚刚被你命名过的那个磁盘，点击“继续”
13. 此时，你会进入漫长的等待、自动重启、常规初始化设置
14. bingo，一个完美的mac系统就被安装进虚拟机里了

### 如果你想要安装VMware Tools的话
* 虚拟机关机后，在菜单栏以此选择：“虚拟机”->“设置”->"CD/DVD光驱"->“使用物理驱动器”，然后开机，在开机时选择“安装VMware Tools”
* 安装完成后重启提示隐私设置，按要求设置即可
* 注意：即使你不安装WMware Tools，也请把选项选成“使用物理驱动器”，那样你会发现，原本卡成翔的系统，突然间不卡了，还很流畅

### 如何优化卡成翔的虚拟机macOS
* 安装VMware Tools（往上看）
* 在OS X里安装并设置开机运行beamoff（据说是神器 安装设置过程如下）
	1. “系统偏好设置” 进入”辅助功能” 然后勾选”减少透明度”
	2. “系统偏好设置” 进入”Dock” 最小化窗口时使用: 选择“缩放效果”
	3. “系统偏好设置” 进入”扩展” 然后将不使用的组件勾掉
	4. 下面是beamoff设置为开机自动运行方法：
	5. 下载beamoff.zip mac会自动解压 得到 beamoff.app
	6. 系统偏好设置 - 用户与群组 - 选中你自己的用户名 - 选择 “登录项” 选项卡 - 点 + 号
	7. 找到你下载的beamoff.app 选中 点击添加
	8. 下一次开机时 需要再次确认打开软件 因为这个软件不是mac的信任软件
* 虚拟机-设置-选项-高级- 禁用内存页面修整（关机后操作）

### 至此，一个完美的虚拟机黑苹果，就这样诞生了